{"ast":null,"code":"//imports\nimport React,{useState}from'react';import{uploadFile}from'../services/API';import'bootstrap/dist/css/bootstrap.min.css';import'font-awesome/css/font-awesome.min.css';import backgroundImage from'../assets/_.jpeg';import'../styles/UploadPage.css';import toast,{Toaster}from'react-hot-toast';import{useNavigate}from'react-router-dom';/**\n * The file upload page allows users to upload an Excel (.xlsx) file.\n * After the file is successfully uploaded, the user is redirected to the `/returns` page.\n *\n * @component\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FileUploadPage(){const[file,setFile]=useState(null);const navigate=useNavigate();/**\n     * Handles changes in the file input field. When the user selects a file, it updates the `file` state.\n     *\n     * @function\n     * @param {any} event - The change event triggered when a file is selected.\n     * @returns {void}\n     */const handleFileChange=event=>{const selectedFile=event.target.files[0];setFile(selectedFile);};/**\n     * Handles the file upload process. It checks if the selected file is an `.xlsx` file,\n     * uploads it, and then redirects the user to the `/returns` page.\n     *\n     * If the file is not an `.xlsx` file, an error message is shown.\n     *\n     * @async\n     * @function\n     * @returns {Promise<void>} Resolves after a successful file upload and user redirection.\n     * @throws {Error} Throws an error if the file upload fails.\n     */const handleFileUpload=async()=>{if(file&&file.name.endsWith(\".xlsx\")){try{await uploadFile(file);toast.success(\"File was uploaded successfully!\");setTimeout(()=>{navigate('/returns');},1000);}catch(error){toast.error(\"Uh oh... error uploading file\");throw error;}}else if(file){toast.error(\"Please upload a .xlsx file!\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"upload-page d-flex align-items-center justify-content-center\",style:{backgroundImage:`url(${backgroundImage})`,height:'100vh'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Toaster,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-card shadow-lg d-flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area text-center p-4 border-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon mb-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-sharp-duotone fa-solid fa-upload\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Drag and Drop file\"}),/*#__PURE__*/_jsx(\"p\",{children:\"or\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange,style:{display:'none'},id:\"fileInput\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",className:\"btn btn-primary\",children:\"Browse\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-details d-flex flex-column p-4 w-100 align-items-center justify-content-center\",children:[file?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center my-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-info d-flex align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-name\",children:file.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-size text-muted\",children:[(file.size/1024).toFixed(2),\" KB\"]})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",onClick:()=>setFile(null),children:\"\\u2715\"})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted text-center\",children:\"No file selected\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-100 mt-3\",onClick:handleFileUpload,disabled:!file,children:\"Upload File\"})]})]})]});}export default FileUploadPage;","map":{"version":3,"names":["React","useState","uploadFile","backgroundImage","toast","Toaster","useNavigate","jsx","_jsx","jsxs","_jsxs","FileUploadPage","file","setFile","navigate","handleFileChange","event","selectedFile","target","files","handleFileUpload","name","endsWith","success","setTimeout","error","className","style","height","children","type","onChange","display","id","htmlFor","size","toFixed","onClick","disabled"],"sources":["/Users/akhil/Desktop/Code/Investure/investure_app/client/src/pages/Upload.tsx"],"sourcesContent":["//imports\nimport React, {useState} from 'react'\nimport { uploadFile } from '../services/API'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport backgroundImage from '../assets/_.jpeg'\nimport '../styles/UploadPage.css'\nimport toast, { Toaster } from 'react-hot-toast';\nimport { useNavigate } from 'react-router-dom';\n\n\n/**\n * The file upload page allows users to upload an Excel (.xlsx) file.\n * After the file is successfully uploaded, the user is redirected to the `/returns` page.\n *\n * @component\n */\n\nfunction FileUploadPage() {\n    const [file, setFile] = useState<File | null>(null)\n    const navigate = useNavigate();\n\n    /**\n     * Handles changes in the file input field. When the user selects a file, it updates the `file` state.\n     *\n     * @function\n     * @param {any} event - The change event triggered when a file is selected.\n     * @returns {void}\n     */\n    const handleFileChange = (event: any) => {\n        const selectedFile = event.target.files[0]\n        setFile(selectedFile)\n    }\n    /**\n     * Handles the file upload process. It checks if the selected file is an `.xlsx` file,\n     * uploads it, and then redirects the user to the `/returns` page.\n     *\n     * If the file is not an `.xlsx` file, an error message is shown.\n     *\n     * @async\n     * @function\n     * @returns {Promise<void>} Resolves after a successful file upload and user redirection.\n     * @throws {Error} Throws an error if the file upload fails.\n     */\n    const handleFileUpload = async() => {\n        if (file && file.name.endsWith(\".xlsx\")) {\n            try {\n                await uploadFile(file)\n                toast.success(\"File was uploaded successfully!\")\n                setTimeout( () => { navigate('/returns') }, 1000)\n            } catch (error) {\n                toast.error(\"Uh oh... error uploading file\")\n                throw error;\n            }\n        }\n        else if (file){\n            toast.error(\"Please upload a .xlsx file!\")\n        }\n    }\n\n    return (\n        <div\n            className=\"upload-page d-flex align-items-center justify-content-center\"\n            style={{ backgroundImage: `url(${backgroundImage})`, height: '100vh' }}\n        >\n            <div><Toaster /></div>\n            <div className=\"upload-card shadow-lg d-flex\">\n                {/* Upload Section */}\n                <div className=\"upload-area text-center p-4 border-right\">\n                    <div className=\"upload-icon mb-3\">\n                        <i className=\"fa fa-sharp-duotone fa-solid fa-upload\"></i>\n                    </div>\n                    <h3>Drag and Drop file</h3>\n                    <p>or</p>\n                    <input\n                        type=\"file\"\n                        onChange={handleFileChange}\n                        style={{ display: 'none' }}\n                        id=\"fileInput\"\n                    />\n                    <label htmlFor=\"fileInput\" className=\"btn btn-primary\">\n                        Browse\n                    </label>\n                </div>\n                {/* File Details Section */}\n                <div className=\"file-details d-flex flex-column p-4 w-100 align-items-center justify-content-center\">\n                    {file ? (\n                        <div className=\"d-flex justify-content-between align-items-center my-2\">\n                            <div className=\"file-info d-flex align-items-center\">\n                                <div>\n                                    <div className=\"file-name\">{file.name}</div>\n                                    <div className=\"file-size text-muted\">\n                                        {((file.size / 1024).toFixed(2))} KB\n                                    </div>\n                                </div>\n                            </div>\n                            <span className=\"text-danger\" onClick={() => setFile(null)}>âœ•</span>\n                        </div>\n                    ) : (\n                        <p className=\"text-muted text-center\">No file selected</p>\n                    )}\n                    <button\n                        className=\"btn btn-primary w-100 mt-3\"\n                        onClick={handleFileUpload}\n                        disabled={!file}\n                    >\n                        Upload File\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\nexport default FileUploadPage\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}